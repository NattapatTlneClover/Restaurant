<section class="my-12 max-w-screen-xl mx-auto px-6">

    <div class="flex items-center justify-center space-x-4 mt-6">
        <button
            class="text-sm py-3 px-6 rounded-full text-white poppins ring-red-300 focus:ring-4 transition duration-300 transform hover:scale-105"
            [ngClass]="{ 'bg-red-500': menuTab === 'food', 'bg-gray-300 text-black': menuTab !== 'food' }"
            (click)="handleMenuTabs('food')">
            Food
        </button>

        <button
            class="text-sm py-3 px-6 rounded-full text-white poppins ring-red-300 focus:ring-4 transition duration-300 transform hover:scale-105"
            [ngClass]="{ 'bg-red-500': menuTab === 'drink', 'bg-gray-300 text-black': menuTab !== 'drink' }"
            (click)="handleMenuTabs('drink')">
            Drink
        </button>

        <button
            class="text-sm py-3 px-6 rounded-full text-white poppins ring-red-300 focus:ring-4 transition duration-300 transform hover:scale-105"
            [ngClass]="{ 'bg-red-500': menuTab === 'dessert', 'bg-gray-300 text-black': menuTab !== 'dessert' }"
            (click)="handleMenuTabs('dessert')">
            Dessert
        </button>

        <button
            class="text-sm py-3 px-6 rounded-full bg-black text-white poppins ring-red-300 focus:ring-4 transition duration-300 transform hover:scale-105"
            (click)="openAddMenuModal()">
            + Add Menu
        </button>
    </div>

    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10 mt-12">

        <ng-container *ngIf="loading; else foodList">
            <app-skeleton *ngFor="let _ of [1,2,3]"></app-skeleton>
        </ng-container>


        <ng-template #foodList>
            <app-food-item-edit *ngFor="let food of filteredFoods" [food]="food"></app-food-item-edit>
        </ng-template>
    </div>

</section>

<div *ngIf="showAddMenuModal" class="fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50">
    <div class="bg-white p-6 rounded-lg w-full max-w-md">
        <h2 class="text-lg font-semibold mb-4">Add New Menu</h2>

        <input type="text" placeholder="Menu Name" class="border p-2 w-full mb-3" [(ngModel)]="newMenuName">

        <input type="number" placeholder="Price" class="border p-2 w-full mb-3" [(ngModel)]="newMenuPrice">

        <select [(ngModel)]="newMenuCategory" class="border border-gray-300 rounded p-2 w-full mb-3">
            <option value="food">Food</option>
            <option value="drink">Drink</option>
            <option value="dessert">Dessert</option>
        </select>

        <textarea placeholder="Description" class="border p-2 w-full mb-3" [(ngModel)]="newMenuDescription"></textarea>

        <label class="block mb-2">
            <input type="checkbox" [(ngModel)]="newMenuIsAvailable">
            Available
        </label>

        <label class="block mb-4">
            <input type="checkbox" [(ngModel)]="newMenuIsSignature">
            Signature
        </label>

        <input type="file" (change)="onFileSelected($event)" class="mb-4">

        <div class="flex justify-end space-x-3">
            <button class="px-4 py-2 bg-gray-300 rounded" (click)="closeAddMenuModal()">Cancel</button>
            <button class="px-4 py-2 bg-black text-white rounded" (click)="addMenu()">Save</button>
        </div>
    </div>
</div>